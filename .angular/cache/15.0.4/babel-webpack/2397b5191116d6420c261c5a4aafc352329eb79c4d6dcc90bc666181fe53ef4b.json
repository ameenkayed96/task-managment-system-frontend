{"ast":null,"code":"import { PaginationComponent } from '../pagination/pagination.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/service/data.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../pagination/pagination.component\";\nconst _c0 = function (a1) {\n  return [\"/task\", a1];\n};\nfunction TasksComponent_tr_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 13);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"a\", 14)(11, \"button\", 15);\n    i0.ɵɵtext(12, \" Show\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const task_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(task_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(task_r1.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(task_r1.dead_line);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(task_r1.flag == 1 ? \"Finished\" : \"Not Finished\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(5, _c0, task_r1.id));\n  }\n}\nexport class TasksComponent {\n  // paginator : any;\n  constructor(authService, router, dataService) {\n    this.authService = authService;\n    this.router = router;\n    this.dataService = dataService;\n    this.isLoading = false;\n    this.isLoading = false; // show data table if it is false, here you may use a loader when it is true\n    if (!this.authService.isLoggedIn) {\n      this.router.navigate(['/login']);\n    }\n  }\n  getValues() {\n    this.isLoading = true;\n    this.dataService.getAll(this.pageOffset, this.pageIndex, this.orderBy).pipe(takeUntil(this._unsubscribeAll)).subscribe(res => {\n      this.dataSource = new MatTableDataSource(res.data);\n      this.total = res.meta.total;\n      this.isLoading = false;\n    });\n  }\n  ngOnInit() {\n    this.isLoading = true;\n    this.pageOffset = 10;\n    this.pageIndex = 1;\n    this.getTasks();\n  }\n  getTasks() {\n    this.tasks = this.dataService.getTasks().subscribe(data => {\n      this.tasks = data.content;\n      this.paginator = data.paginator;\n      console.log(data.paginator);\n    });\n  }\n}\nTasksComponent.ɵfac = function TasksComponent_Factory(t) {\n  return new (t || TasksComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.DataService));\n};\nTasksComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TasksComponent,\n  selectors: [[\"app-tasks\"]],\n  viewQuery: function TasksComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(PaginationComponent, 7);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n    }\n  },\n  decls: 27,\n  vars: 4,\n  consts: [[1, \"container\"], [1, \"card\", 2, \"margin-top\", \"5%\"], [1, \"card-body\"], [1, \"row\"], [1, \"col-md-10\"], [1, \"card-title\"], [1, \"col-md-2\"], [\"routerLink\", \"/addTask\"], [1, \"btn\", \"btn-secondary\", \"pull-right\"], [1, \"table\", 2, \"margin-top\", \"5%\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [3, \"length\", \"pageOffset\", \"pageIndex\"], [\"scope\", \"row\"], [3, \"routerLink\"], [1, \"btn\", \"btn-success\", \"pull-right\"]],\n  template: function TasksComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h5\", 5);\n      i0.ɵɵtext(6, \"All Tasks\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 6)(8, \"a\", 7)(9, \"button\", 8);\n      i0.ɵɵtext(10, \"Add Task\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(11, \"table\", 9)(12, \"thead\")(13, \"tr\")(14, \"th\", 10);\n      i0.ɵɵtext(15, \"#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\", 10);\n      i0.ɵɵtext(17, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\", 10);\n      i0.ɵɵtext(19, \"DeadLine\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"th\", 10);\n      i0.ɵɵtext(21, \"Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"th\", 10);\n      i0.ɵɵtext(23, \"Destails\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(24, \"tbody\");\n      i0.ɵɵtemplate(25, TasksComponent_tr_25_Template, 13, 7, \"tr\", 11);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(26, \"app-pagination\", 12);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(25);\n      i0.ɵɵproperty(\"ngForOf\", ctx.tasks);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"length\", ctx.paginator.total_count)(\"pageOffset\", ctx.paginator.total_page)(\"pageIndex\", ctx.paginator.current_page);\n    }\n  },\n  dependencies: [i4.NgForOf, i2.RouterLink, i5.PaginationComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAKA,SAASA,mBAAmB,QAAQ,oCAAoC;;;;;;;;;;;;ICmBtDC,0BAA+B;IACbA,YAAW;IAAAA,iBAAK;IAChCA,0BAAI;IAAAA,YAAoB;IAAAA,iBAAK;IAC7BA,0BAAI;IAAAA,YAAkB;IAAAA,iBAAK;IAC3BA,0BAAI;IAAAA,YAAgD;IAAAA,iBAAK;IACzDA,0BAAI;IAAkFA,sBAAI;IAAAA,iBAAS;;;;IAJnFA,eAAW;IAAXA,gCAAW;IACvBA,eAAoB;IAApBA,yCAAoB;IACpBA,eAAkB;IAAlBA,uCAAkB;IAClBA,eAAgD;IAAhDA,qEAAgD;IAC7CA,eAAiC;IAAjCA,mEAAiC;;;ADhB5D,OAAM,MAAOC,cAAc;EAYzB;EAEAC,YAAqBC,WAAyB,EAAWC,MAAe,EAASC,WAAyB;IAArF,gBAAW,GAAXF,WAAW;IAAyB,WAAM,GAANC,MAAM;IAAkB,gBAAW,GAAXC,WAAW;IAX1F,cAAS,GAAG,KAAK;IAGnB,cAAS,GAAG,KAAK,CAAC,CAAC;IASf,IAAI,CAAC,IAAI,CAACF,WAAW,CAACG,UAAU,EAAE;MAChC,IAAI,CAACF,MAAM,CAACG,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;;EAEtC;EAEAC,SAAS;IACT,IAAI,CAACC,SAAS,GAAG,IAAI;IACrB,IAAI,CAACJ,WAAW,CAACK,MAAM,CAAC,IAAI,CAACC,UAAU,EAAE,IAAI,CAACC,SAAS,EAAE,IAAI,CAACC,OAAO,CAAC,CACpEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACC,eAAe,CAAC,CAAC,CAACC,SAAS,CAACC,GAAG,IAAG;MACtD,IAAI,CAACC,UAAU,GAAG,IAAIC,kBAAkB,CAACF,GAAG,CAACG,IAAI,CAAC;MAClD,IAAI,CAACC,KAAK,GAAGJ,GAAG,CAACK,IAAI,CAACD,KAAK;MAC3B,IAAI,CAACb,SAAS,GAAG,KAAK;IACxB,CAAC,CAAC;EACH;EAECe,QAAQ;IACN,IAAI,CAACf,SAAS,GAAG,IAAI;IACvB,IAAI,CAACE,UAAU,GAAG,EAAE;IACpB,IAAI,CAACC,SAAS,GAAG,CAAC;IAChB,IAAI,CAACa,QAAQ,EAAE;EACjB;EAEAA,QAAQ;IACN,IAAI,CAACC,KAAK,GAAG,IAAI,CAACrB,WAAW,CAACoB,QAAQ,EAAE,CAACR,SAAS,CAACI,IAAI,IAAG;MACtD,IAAI,CAACK,KAAK,GAAGL,IAAI,CAACM,OAAO;MACzB,IAAI,CAACC,SAAS,GAAGP,IAAI,CAACO,SAAS;MAC/BC,OAAO,CAACC,GAAG,CAACT,IAAI,CAACO,SAAS,CAAC;IAC/B,CAAC,CAAC;EACJ;;AA3CW3B,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAA8B;EAAAC;IAAA;qBACdjC,mBAAmB;;;;;;;;;;;;MCdhCC,8BAAuB;MAKoBA,yBAAS;MAAAA,iBAAK;MAEzCA,8BAAsB;MACqDA,yBAAQ;MAAAA,iBAAS;MAGhGA,iCAA6C;MAGrBA,kBAAC;MAAAA,iBAAK;MACtBA,+BAAgB;MAAAA,4BAAW;MAAAA,iBAAK;MAChCA,+BAAgB;MAAAA,yBAAQ;MAAAA,iBAAK;MAC7BA,+BAAgB;MAAAA,uBAAM;MAAAA,iBAAK;MAC3BA,+BAAgB;MAAAA,yBAAQ;MAAAA,iBAAK;MAIjCA,8BAAO;MAELA,iEAOK;MACPA,iBAAQ;MAGlBA,sCAA2I;MAC7IA,iBAAM;;;MAZ6BA,gBAAQ;MAARA,mCAAQ;MAWzBA,eAAgC;MAAhCA,kDAAgC","names":["PaginationComponent","i0","TasksComponent","constructor","authService","router","dataService","isLoggedIn","navigate","getValues","isLoading","getAll","pageOffset","pageIndex","orderBy","pipe","takeUntil","_unsubscribeAll","subscribe","res","dataSource","MatTableDataSource","data","total","meta","ngOnInit","getTasks","tasks","content","paginator","console","log","selectors","viewQuery"],"sourceRoot":"","sources":["D:\\mafcode_angular\\src\\app\\components\\tasks\\tasks.component.ts","D:\\mafcode_angular\\src\\app\\components\\tasks\\tasks.component.html"],"sourcesContent":["import { Component, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from 'src/app/service/auth.service';\nimport { DataService } from 'src/app/service/data.service';\nimport { OnInit } from '@angular/core';\nimport { PaginationComponent } from '../pagination/pagination.component';\nimport { Subject } from 'rxjs';\n\n@Component({\n  selector: 'app-tasks',\n  templateUrl: './tasks.component.html',\n  styleUrls: ['./tasks.component.css']\n})\nexport class TasksComponent {\n  @ViewChild(PaginationComponent, {static: true}) paginator: PaginationComponent;\n  private _unsubscribeAll: Subject<any>;\n    isLoading = false;\n  tasks : any ;\n\n  isLoading = false; // show data table if it is false, here you may use a loader when it is true\n  // for pagination\n  total: any;\n  pageOffset: any;\n  pageIndex: any;\n\n  // paginator : any;\n\n  constructor( private authService : AuthService , private router : Router,private dataService : DataService){\n      if (!this.authService.isLoggedIn) {\n        this.router.navigate(['/login']);\n      }\n  }\n\n  getValues(): void {\n\t\tthis.isLoading = true;\n\t\tthis.dataService.getAll(this.pageOffset, this.pageIndex, this.orderBy)\n\t\t\t.pipe(takeUntil(this._unsubscribeAll)).subscribe(res => {\n\t\t\t\tthis.dataSource = new MatTableDataSource(res.data);\n\t\t\t\tthis.total = res.meta.total;\n\t\t\t\tthis.isLoading = false;\n\t\t});\n\t}\n\n  ngOnInit() {\n    this.isLoading = true;\n\t\tthis.pageOffset = 10;\n\t\tthis.pageIndex = 1;\n    this.getTasks();\n  }\n\n  getTasks(){\n    this.tasks = this.dataService.getTasks().subscribe(data => {\n        this.tasks = data.content;\n        this.paginator = data.paginator;\n        console.log(data.paginator);\n    });\n  }\n}\n","<div class=\"container\">\n    <div class=\"card\" style=\"margin-top: 5%;\">\n        <div class=\"card-body\">\n            <div class=\"row\">\n                <div class=\"col-md-10\">\n                    <h5 class=\"card-title\">All Tasks</h5>\n                </div>\n                <div class=\"col-md-2\">\n                    <a routerLink=\"/addTask\"><button class=\"btn btn-secondary pull-right\" >Add Task</button></a>\n                </div>\n            </div>\n            <table class=\"table\" style=\"margin-top: 5%;\">\n                <thead>\n                  <tr>\n                    <th scope=\"col\">#</th>\n                    <th scope=\"col\">Description</th>\n                    <th scope=\"col\">DeadLine</th>\n                    <th scope=\"col\">Status</th>\n                    <th scope=\"col\">Destails</th>\n            \n                  </tr>\n                </thead>\n                <tbody>\n                 \n                  <tr *ngFor=\"let task of tasks\">\n                    <th scope=\"row\">{{task.id}}</th>\n                    <td>{{task.description}}</td>\n                    <td>{{task.dead_line}}</td>\n                    <td>{{task.flag == 1 ? 'Finished' : 'Not Finished'}}</td>\n                    <td><a [routerLink]=\"[ '/task',task.id]\"><button class=\"btn btn-success pull-right\" > Show</button></a></td>\n            \n                  </tr>\n                </tbody>\n              </table>\n        </div>\n      <app-pagination [length]=\"paginator.total_count\" [pageOffset]=\"paginator.total_page\" [pageIndex]=\"paginator.current_page\"></app-pagination>\n    </div>\n   \n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}