{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/service/data.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../pagination/pagination.component\";\nconst _c0 = function (a1) {\n  return [\"/task\", a1];\n};\nfunction TasksComponent_tr_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 13);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"a\", 14)(11, \"button\", 15);\n    i0.ɵɵtext(12, \" Show\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const task_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(task_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(task_r1.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(task_r1.dead_line);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(task_r1.flag == 1 ? \"Finished\" : \"Not Finished\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(5, _c0, task_r1.id));\n  }\n}\nexport class TasksComponent {\n  constructor(authService, router, dataService) {\n    this.authService = authService;\n    this.router = router;\n    this.dataService = dataService;\n    this.isLoading = false;\n    this.notify = new EventEmitter();\n    if (!this.authService.isLoggedIn) {\n      this.router.navigate(['/login']);\n    }\n  }\n  getValues() {\n    this.isLoading = true;\n    this.tasks = this.dataService.getTasks().subscribe(data => {\n      this.tasks = data.content;\n      this.paginator = data.paginator;\n      console.log(data.paginator);\n    });\n  }\n  ngOnInit() {\n    this.isLoading = true;\n    this.pageOffset = 10;\n    this.pageIndex = 1;\n    this.getTasks();\n  }\n  receivePaginationdData(data) {\n    console.log(data);\n  }\n  getTasks() {\n    // console.log(this.notify.emit(this.length));\n    this.tasks = this.dataService.getTasks().subscribe(data => {\n      this.tasks = data.content;\n      this.paginator = data.paginator;\n      console.log(data.paginator);\n    });\n  }\n}\nTasksComponent.ɵfac = function TasksComponent_Factory(t) {\n  return new (t || TasksComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.DataService));\n};\nTasksComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TasksComponent,\n  selectors: [[\"app-tasks\"]],\n  outputs: {\n    notify: \"notify\"\n  },\n  decls: 27,\n  vars: 4,\n  consts: [[1, \"container\"], [1, \"card\", 2, \"margin-top\", \"5%\"], [1, \"card-body\"], [1, \"row\"], [1, \"col-md-10\"], [1, \"card-title\"], [1, \"col-md-2\"], [\"routerLink\", \"/addTask\"], [1, \"btn\", \"btn-secondary\", \"pull-right\"], [1, \"table\", 2, \"margin-top\", \"5%\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [3, \"pageOffset\", \"page\", \"pageIndex\", \"paginationData\"], [\"scope\", \"row\"], [3, \"routerLink\"], [1, \"btn\", \"btn-success\", \"pull-right\"]],\n  template: function TasksComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h5\", 5);\n      i0.ɵɵtext(6, \"All Tasks\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 6)(8, \"a\", 7)(9, \"button\", 8);\n      i0.ɵɵtext(10, \"Add Task\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(11, \"table\", 9)(12, \"thead\")(13, \"tr\")(14, \"th\", 10);\n      i0.ɵɵtext(15, \"#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\", 10);\n      i0.ɵɵtext(17, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\", 10);\n      i0.ɵɵtext(19, \"DeadLine\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"th\", 10);\n      i0.ɵɵtext(21, \"Status\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"th\", 10);\n      i0.ɵɵtext(23, \"Destails\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(24, \"tbody\");\n      i0.ɵɵtemplate(25, TasksComponent_tr_25_Template, 13, 7, \"tr\", 11);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(26, \"app-pagination\", 12);\n      i0.ɵɵlistener(\"paginationData\", function TasksComponent_Template_app_pagination_paginationData_26_listener($event) {\n        return ctx.receivePaginationdData($event);\n      });\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(25);\n      i0.ɵɵproperty(\"ngForOf\", ctx.tasks);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"pageOffset\", ctx.paginator.total_page)(\"page\", ctx.paginator.current_page)(\"pageIndex\", ctx.paginator.current_page);\n    }\n  },\n  dependencies: [i4.NgForOf, i2.RouterLink, i5.PaginationComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAAA,SAAoBA,YAAY,QAA2B,eAAe;;;;;;;;;;;;ICwBxDC,0BAA+B;IACbA,YAAW;IAAAA,iBAAK;IAChCA,0BAAI;IAAAA,YAAoB;IAAAA,iBAAK;IAC7BA,0BAAI;IAAAA,YAAkB;IAAAA,iBAAK;IAC3BA,0BAAI;IAAAA,YAAgD;IAAAA,iBAAK;IACzDA,0BAAI;IAAkFA,sBAAI;IAAAA,iBAAS;;;;IAJnFA,eAAW;IAAXA,gCAAW;IACvBA,eAAoB;IAApBA,yCAAoB;IACpBA,eAAkB;IAAlBA,uCAAkB;IAClBA,eAAgD;IAAhDA,qEAAgD;IAC7CA,eAAiC;IAAjCA,mEAAiC;;;ADhB5D,OAAM,MAAOC,cAAc;EAWzBC,YAAqBC,WAAyB,EAAWC,MAAe,EAASC,WAAyB;IAArF,gBAAW,GAAXF,WAAW;IAAyB,WAAM,GAANC,MAAM;IAAkB,gBAAW,GAAXC,WAAW;IAV5F,cAAS,GAAG,KAAK;IAGjB,WAAM,GAAyB,IAAIN,YAAY,EAAU;IAQrD,IAAI,CAAC,IAAI,CAACI,WAAW,CAACG,UAAU,EAAE;MAChC,IAAI,CAACF,MAAM,CAACG,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;;EAEtC;EAEAC,SAAS;IACT,IAAI,CAACC,SAAS,GAAG,IAAI;IACnB,IAAI,CAACC,KAAK,GAAG,IAAI,CAACL,WAAW,CAACM,QAAQ,EAAE,CAACC,SAAS,CAACC,IAAI,IAAG;MACxD,IAAI,CAACH,KAAK,GAAGG,IAAI,CAACC,OAAO;MACzB,IAAI,CAACC,SAAS,GAAGF,IAAI,CAACE,SAAS;MAC/BC,OAAO,CAACC,GAAG,CAACJ,IAAI,CAACE,SAAS,CAAC;IAC7B,CAAC,CAAC;EACL;EAECG,QAAQ;IACN,IAAI,CAACT,SAAS,GAAG,IAAI;IACvB,IAAI,CAACU,UAAU,GAAG,EAAE;IACpB,IAAI,CAACC,SAAS,GAAG,CAAC;IAChB,IAAI,CAACT,QAAQ,EAAE;EACjB;EAEAU,sBAAsB,CAACR,IAAU;IAC/BG,OAAO,CAACC,GAAG,CAACJ,IAAI,CAAC;EACnB;EAEAF,QAAQ;IACN;IACA,IAAI,CAACD,KAAK,GAAG,IAAI,CAACL,WAAW,CAACM,QAAQ,EAAE,CAACC,SAAS,CAACC,IAAI,IAAG;MACtD,IAAI,CAACH,KAAK,GAAGG,IAAI,CAACC,OAAO;MACzB,IAAI,CAACC,SAAS,GAAGF,IAAI,CAACE,SAAS;MAC/BC,OAAO,CAACC,GAAG,CAACJ,IAAI,CAACE,SAAS,CAAC;IAC/B,CAAC,CAAC;EACJ;;AA5CWd,cAAc;mBAAdA,cAAc;AAAA;AAAdA,cAAc;QAAdA,cAAc;EAAAqB;EAAAC;IAAAC;EAAA;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCb3B5B,8BAAuB;MAKoBA,yBAAS;MAAAA,iBAAK;MAEzCA,8BAAsB;MACqDA,yBAAQ;MAAAA,iBAAS;MAGhGA,iCAA6C;MAGrBA,kBAAC;MAAAA,iBAAK;MACtBA,+BAAgB;MAAAA,4BAAW;MAAAA,iBAAK;MAChCA,+BAAgB;MAAAA,yBAAQ;MAAAA,iBAAK;MAC7BA,+BAAgB;MAAAA,uBAAM;MAAAA,iBAAK;MAC3BA,+BAAgB;MAAAA,yBAAQ;MAAAA,iBAAK;MAIjCA,8BAAO;MAELA,iEAOK;MACPA,iBAAQ;MAGlBA,2CAA+K;MAA1HA;QAAA,OAAoB6B,kCAA8B;MAAA,EAAC;MAAuE7B,iBAAiB;;;MAX/JA,gBAAQ;MAARA,mCAAQ;MAWxBA,eAAmC;MAAnCA,qDAAmC","names":["EventEmitter","i0","TasksComponent","constructor","authService","router","dataService","isLoggedIn","navigate","getValues","isLoading","tasks","getTasks","subscribe","data","content","paginator","console","log","ngOnInit","pageOffset","pageIndex","receivePaginationdData","selectors","outputs","notify","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\mafcode_angular\\src\\app\\components\\tasks\\tasks.component.ts","D:\\mafcode_angular\\src\\app\\components\\tasks\\tasks.component.html"],"sourcesContent":["import { Component, EventEmitter, Output, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from 'src/app/service/auth.service';\nimport { DataService } from 'src/app/service/data.service';\nimport { OnInit } from '@angular/core';\nimport { PaginationComponent } from '../pagination/pagination.component';\nimport { Subject } from 'rxjs';\n\n@Component({\n  selector: 'app-tasks',\n  templateUrl: './tasks.component.html',\n  styleUrls: ['./tasks.component.css']\n})\nexport class TasksComponent {\n  isLoading = false;\n  tasks : any ;\n  @Output()\n  notify: EventEmitter<string> = new EventEmitter<string>();\n  // for pagination\n  total: any;\n  pageOffset: any;\n  pageIndex: any;\n  paginator : any;\n\n  constructor( private authService : AuthService , private router : Router,private dataService : DataService){\n      if (!this.authService.isLoggedIn) {\n        this.router.navigate(['/login']);\n      }\n  }\n\n  getValues(): void {\n\t\tthis.isLoading = true;\n    this.tasks = this.dataService.getTasks().subscribe(data => {\n      this.tasks = data.content;\n      this.paginator = data.paginator;\n      console.log(data.paginator);\n    });\n\t}\n\n  ngOnInit() {\n    this.isLoading = true;\n\t\tthis.pageOffset = 10;\n\t\tthis.pageIndex = 1;\n    this.getTasks();\n  }\n\n  receivePaginationdData(data : any) {\n    console.log(data);\n  }\n\n  getTasks(){\n    // console.log(this.notify.emit(this.length));\n    this.tasks = this.dataService.getTasks().subscribe(data => {\n        this.tasks = data.content;\n        this.paginator = data.paginator;\n        console.log(data.paginator);\n    });\n  }\n}\n","<div class=\"container\">\n    <div class=\"card\" style=\"margin-top: 5%;\">\n        <div class=\"card-body\">\n            <div class=\"row\">\n                <div class=\"col-md-10\">\n                    <h5 class=\"card-title\">All Tasks</h5>\n                </div>\n                <div class=\"col-md-2\">\n                    <a routerLink=\"/addTask\"><button class=\"btn btn-secondary pull-right\" >Add Task</button></a>\n                </div>\n            </div>\n            <table class=\"table\" style=\"margin-top: 5%;\">\n                <thead>\n                  <tr>\n                    <th scope=\"col\">#</th>\n                    <th scope=\"col\">Description</th>\n                    <th scope=\"col\">DeadLine</th>\n                    <th scope=\"col\">Status</th>\n                    <th scope=\"col\">Destails</th>\n            \n                  </tr>\n                </thead>\n                <tbody>\n                 \n                  <tr *ngFor=\"let task of tasks\">\n                    <th scope=\"row\">{{task.id}}</th>\n                    <td>{{task.description}}</td>\n                    <td>{{task.dead_line}}</td>\n                    <td>{{task.flag == 1 ? 'Finished' : 'Not Finished'}}</td>\n                    <td><a [routerLink]=\"[ '/task',task.id]\"><button class=\"btn btn-success pull-right\" > Show</button></a></td>\n            \n                  </tr>\n                </tbody>\n              </table>\n        </div>\n      <app-pagination  [pageOffset]=\"paginator.total_page\" (paginationData) = \"receivePaginationdData($event)\"  [page]=\"paginator.current_page\" [pageIndex]=\"paginator.current_page\"></app-pagination>\n    </div>\n   \n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}